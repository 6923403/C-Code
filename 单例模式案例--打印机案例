class printer

{

public:

printer()

{

m_count = 0;

}

static printer *getinstance()

{

return singleprinter;

}

void printest(string text)

{

cout << text << endl;

m_count++;

cout << "add up" << m_count << endl;

}

private:

printer(const printer &p);

static printer *singleprinter;

int m_count;

};

printer * printer::singleprinter = new printer;

void test1()

{

printer * printer = printer::getinstance();

printer ->printest("666");

printer ->printest("下班了");

}
